webpackJsonp([0],{U4z6:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.pageTitle[data-v-8c3f043a]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.pageTitle .left[data-v-8c3f043a]{-webkit-box-flex:1;-ms-flex:1;flex:1\n}\n.pageTitle .right[data-v-8c3f043a]{width:420px;margin-right:0px;text-align:right;display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.pageTitle .right .el-input[data-v-8c3f043a]{margin-right:12px;width:270px;display:block\n}\n.formTable[data-v-8c3f043a]{margin-top:30px;margin-bottom:30px\n}\n.formTable tr td[data-v-8c3f043a]{color:rgba(0,0,0,0.5);padding:6px;font-size:16px\n}\n.formTable tr td[data-v-8c3f043a]:first-child{text-align:right;color:rgba(0,0,0,0.7)\n}\n.formTable tr td a[data-v-8c3f043a]{color:#409EFF;-webkit-text-decoration:solid #409EFF 1px;text-decoration:solid #409EFF 1px\n}\n.unPayWrap[data-v-8c3f043a]{display:-webkit-box;display:-ms-flexbox;display:flex\n}\n.unPayWrap .one[data-v-8c3f043a]{border:solid #cccccc 1px;width:240px;height:320px;padding:12px;border-radius:4px;position:relative\n}\n.unPayWrap .one .title[data-v-8c3f043a]{font-size:16px;border-bottom:solid #f4f4f4 1px;padding-bottom:6px;margin-bottom:6px;text-align:center;color:#409EFF;letter-spacing:3px\n}\n.unPayWrap .one .c[data-v-8c3f043a]{color:rgba(0,0,0,0.5);font-size:15px\n}\n.unPayWrap .one button[data-v-8c3f043a]{position:absolute;right:10px;bottom:10px;background:#409EFF;border:none;outline:none;width:calc( 100% - 20px);height:34px;color:#ffffff;letter-spacing:3px;cursor:pointer\n}\n.unPayWrap .one button[data-v-8c3f043a]:hover{opacity:0.8\n}\n.unPayWrap .one[data-v-8c3f043a]:hover{border-color:#409EFF\n}\n.black[data-v-8c3f043a]{height:8px;background:#f4f4f4;width:calc( 100% + 24px);margin-left:-12px;margin-top:12px\n}\n.el-table .cell[data-v-8c3f043a]{font-family:Consolas\n}\n",""])},ZjJS:function(t,e,a){var n=a("U4z6");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("6816a6ee",n,!0,{})},oKnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("GGsn"),i={data:function(){return{searchKey:"",searchDate:"",dialogVisible:!1,form:{},tableData:[],vipData:{},vip:{show:!1,data:{}},loading:!1}},methods:{search:function(){var t=this.searchKey;t?this.queryOneOrder(t):this.getAllPayRecord()},queryOneOrder:function(t){var e=this;this.loading=!0,Object(n.g)(t).then(function(t){e.tableData=t.map(function(t){return t.time_end=this.$moment(t.time_end,"YYYYMMDDHHmmss").format("YYYY-MM-DD HH:mm:ss"),t.cash_fee=t.cash_fee/100,t}.bind(e))}).finally(function(){this.loading=!1}.bind(this))},getAllPayRecord:function(t){var e=this;this.loading=!0,Object(n.a)(t).then(function(t){e.tableData=t.map(function(t){return t.time_end=this.$moment(t.time_end,"YYYYMMDDHHmmss").format("YYYY-MM-DD HH:mm:ss"),t.cash_fee=t.cash_fee/100,t}.bind(e))}).finally(function(){this.loading=!1}.bind(this))},changeDate:function(t){console.log(t),this.getAllPayRecord(t)},queryOneUser:function(t){var e=this,a=t.openid;Object(n.h)(a).then(function(t){t.regTime=e.$moment(Number(t.regTime)).format("YYYY-MM-DD HH:mm:ss"),t.payTime=e.$moment(Number(t.payTime)).format("YYYY-MM-DD HH:mm:ss"),e.vip.data=t,e.vip.show=!0})}},mounted:function(){this.getAllPayRecord(),this.searchDate=this.$moment().format("YYYYMMDD")},computed:{tableHeight:function(){return this.$store.state.windowSize.height-156},dayAmount:function(){var t=this.tableData.map(function(t){return t.cash_fee}),e=t.length?t.reduce(function(t,e){return t+e}):0;return e}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"12px",padding:"12px"}},[a("div",{staticClass:"pageTitle"},[a("div",{staticClass:"left"},[t._v("订单管理")]),t._v(" "),a("div",{staticClass:"right"},[a("div",[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入订单号搜索",size:"small",clearable:""},on:{change:t.search},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),t._v(" "),a("div",[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{"value-format":"yyyyMMdd",type:"date",placeholder:"选择日期",size:"small"},on:{change:t.changeDate},model:{value:t.searchDate,callback:function(e){t.searchDate=e},expression:"searchDate"}})],1)])]),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%","font-family":"Consolas"},attrs:{data:t.tableData,height:t.tableHeight,border:""}},[a("el-table-column",{attrs:{prop:"transaction_id",label:"订单号",width:"270"}}),t._v(" "),a("el-table-column",{attrs:{prop:"openid",label:"openid",width:"270"}}),t._v(" "),a("el-table-column",{attrs:{prop:"trade_type",label:"交易类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"time_end",label:"日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cash_fee",label:"金额("+t.dayAmount+"元)",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.cash_fee)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.queryOneUser(e.row)}}},[t._v("用户信息")])]}}])})],1),t._v(" "),a("el-drawer",{attrs:{title:"会员信息",visible:t.vip.show,size:"500px"},on:{"update:visible":function(e){return t.$set(t.vip,"show",e)}}},[a("table",{staticClass:"formTable"},[a("tr",[a("td",{attrs:{width:"120px"}},[t._v("openId")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.openId))])]),t._v(" "),a("tr",[a("td",[t._v("来源")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.payFrom))])]),t._v(" "),a("tr",[a("td",[t._v("免费次数")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.freeCount))])]),t._v(" "),a("tr",[a("td",[t._v("过期")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.overdue))])]),t._v(" "),a("tr",[a("td",[t._v("过期时间")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.lastTime))])]),t._v(" "),a("tr",[a("td",[t._v("支付时间")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.payTime))])]),t._v(" "),a("tr",[a("td",[t._v("注册时间")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.regTime))])]),t._v(" "),a("tr",[a("td",[t._v("unionid")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.unionid))])]),t._v(" "),a("tr",[a("td",[t._v("是否付费")]),t._v(" "),a("td",[t._v(t._s(t.vip.data.isPaid))])])])])],1)},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(t){a("ZjJS")},"data-v-8c3f043a",null);e.default=r.exports}});